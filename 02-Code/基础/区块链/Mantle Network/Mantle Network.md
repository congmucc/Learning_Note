# 1 Layer 2 简介

## 1.1 Layer分层

区块链的分层

- **Layer 0**是数据传输层，指的就是区块链最基础的底层协议，也就是节点之间传递讯息的通讯层，负责基础的数据传递及建立共识达成效率。
- **Layer 1**是底层区块链。比特币(BTC)、以太坊(ETH)、币安智能链(BNB)和Solana都属于Layer-1协议。
- **Layer2**又称链下扩容，指不改变区块链底层协议和基础规则，通过状态通道、侧链等方案提高交易处理速度。

- **Layer3**指的是应用层。

### 1.1.1 Layer0

**Layer 0数据传输层**

L0是数据传输层，指的就是区块链最基础的底层协议，也就是节点之间传递讯息的通讯层，负责基础的数据传递及建立共识达成效率。

第0层赋能了以下三方面：

**1）允许不同区块链交互**

- 一个很好的例子是Cosmos，它它通过其"TendermintIBC”（区块链间通信协议）创建了一个可互操作的区块链生态系统。希望打造一套区块链通用的开发框架并解决跨链问题，使多链宇宙成为可能。有意思的是，Cosmos生态中的项目Terra，其市值超过了Cosmos。基于 Cosmos SDK 开发的区块链还有 LUNA、CRO、OSMO 等市值超过 10 亿美金的项目。
- 对于开发人员来说，这是巨大的进步。如果一个Dapp可以在一个区块链上运行，它也可以在其他区块链上自动运行，只要它们使用相同的第0层构建。无需投入更多时间和资源在另一条链上构建相同的应用程序。

**2）交易更快、成本更低**

- 过IBC，PoS共识可以跨多个链实现，导致最终确定时间几乎在瞬间发生（最终确定=块被批准、不能回滚且被认为是不可逆的）。这样的结果是让跨链交易所的交易更快、更便宜

**3）开发人员的基础设施**

- 开发人员不需要从头开始，从头开始构建他们的区块链。许多功能都是预先构建的，可以立即实施。

**实例：**

Polkadot、cosmos、Avalanche、Cardano



### 1.1.2 Layer 1

**L1底层区块链**

第1层是区块链（比特币和以太坊），它们在自己的区块链上处理和完成交易。这是处理共识（PoW、PoS）和所有技术细节（如区块时间和争议解决）的地方。

区块链最重要的三个方面是克服区块链三难困境：去中心化、安全性和可扩展性。到目前，仍然没有一个区块链能够解决这三个问题。

Solana支持每秒71万次交易，可以说当之无愧的高性能公链。使用的是时间历史证明机制（PoH）和可验证的延迟机制，允许节点通过本地生成时间戳，无需在整个网络上进行广播时间戳信息，最大化的提高了公链数据的传输线程，提高传输效率，但Solana区块链在不到一年的时间里遭遇了一系列的中断，其安全性备受社区成员的质疑。

比特币的稳定性和安全性毋庸置疑，但可扩展性太差。

以太坊升级到2.0后，采用**分片来解决扩展性问题**

Celo采用PoS权益共识，交易速度能达到5秒的速度，而Gas费低至0.00004美元。它能使用稳定币支付Gas费，规避了加密货币的波动性问题，很适合跨国汇款，在非洲应用较为广泛。

**实例：**

Ethereum、Celo、Binance、Solana



### 1.1.3 Layer 2

**L2链下扩容**

L2又称链下扩容，指不改变区块链底层协议和基础规则，通过状态通道、侧链等方案提高交易处理速度。

第2层是与第1层结合使用的第三方集成，以提高可扩展性和每秒事务（系统吞吐量）。Polygon是一个去中心化的以太坊扩展平台,使开发人员能够以低交易费用构建可扩展的用户友好 dApp，而无需牺牲安全性。

除此之外，还有很多的以太坊 L2，比如所谓的"四大Rollups"，包括 Optimistic Rollups (ORU)和 Arbitrum，它们已上线并拥有快速增长的用户和开发人员基础。还包括 zk-rollups(ZKRs)和 StarkNet。

如零撸（zk）、侧链或任何与加快事务吞吐量有关的技术，都属于第2层。

实例：

Optimism、Polygon、Starknet、Arbitrum





### 1.1.4 Layer 3

**L3应用层**

第3层是应用层。这是作为消费者实际与之交互的用户界面。

比如有人认为使用以太坊Layer2，交易吞吐量仍然有限，而且Gas不够便宜，无法执行以订单簿为中心的CEX（中心化交易所，如币安)所需的所需交易，就需要依靠第三层分流。

目前在Layer1和Layer2 之间使用的跨链通道非常低效且昂贵。所以将层级间与同层间的组合操作平移至Layer3可能是一个不错的选择，而且更易于实施。因为定制化的 Layer3 是通过Layer2 而不是Layer1 进行互操作，这显然会更便宜。

L3的应用程序，包括DEX(去中心化交易所，如UniSwap)、DeFi(去中心化金融，如Maker)、NFT(非同质化代币，如CryptoKities)、DAO(去中心化自治组织)、GameFi (Decentraland）等。

还有一种分法，从L3 中再分出L4，也就是区块链技术应用于现实世界的解决方案。可能是为了方便人们操作的，体验更好的用户界面。



## 1.1 为什么需要 Layer 2

Layer 1 是指区块链的基础层，也称为主链或基础协议层，比特币和以太坊就是典型的 Layer 1 区块链。

因为在 Layer 1 上进行交易和智能合约执行需要全网节点的参与，所以会面临一些挑战，如低吞吐量、高交易费用和延迟较高。这些挑战对于一些需要高性能和低成本的应用场景来说是不利的，比如支付、游戏和去中心化交易所等。

Layer 2 技术的出现就是为了解决 Layer 1 的这些瓶颈和挑战，Layer 2 技术通过将一部分交易或计算迁移到 Layer 2，可以大大提高系统的吞吐量和性能。同时，由于 Layer 2 不需要全网节点的参与，所以可以降低交易的成本和延迟。这使得区块链技术更加适用于各种实际应用，并能够满足更多用户的需求。